# AI视频制作工作流优化清单

> 审查日期：2026-02-12
> 状态：待实施

---

## 一、现有工作流评估

| 维度 | 评分 | 说明 |
|------|------|------|
| 流程完整度 | ★★★★★ | 7阶段全覆盖，从构思到成片闭环 |
| 提示词体系 | ★★★★☆ | 词典丰富，分类清晰 |
| 分镜专业度 | ★★★★★ | 包含景别、运镜、声音、节奏要点 |
| 文档规范 | ★★★★☆ | 格式统一，可读性强 |
| 生产管理 | ★★☆☆☆ | 缺乏版本追踪、状态管理 |
| 质量控制 | ★★☆☆☆ | 缺乏系统化QA流程 |

---

## 二、待优化项清单

### P0 - 高优先级（立即实施）

#### 2.1 素材版本管理规范

**问题**：`outputs/` 目录无版本追踪，多次迭代后难以追溯提示词与成品对应关系

**解决方案**：

```
outputs/[项目名]/
├── ep01/
│   ├── S01-03/
│   │   ├── v1_seed12345.mp4       # 版本号_种子值
│   │   ├── v1_prompt.txt          # 对应提示词
│   │   ├── v1_params.json         # 生成参数
│   │   ├── v2_seed67890.mp4
│   │   ├── v2_prompt.txt
│   │   ├── v2_params.json
│   │   └── _selected.md           # 最终选用版本及原因
│   └── ...
```

**命名规范**：
- 视频：`v{版本号}_seed{种子值}.mp4`
- 提示词：`v{版本号}_prompt.txt`
- 参数：`v{版本号}_params.json`

**_selected.md 模板**：
```markdown
## 最终选用版本

- 选用版本：v3
- 选用原因：布料飘逸感最佳，角色脸部一致性高
- 备选版本：v2（运动稍快，可用于节奏紧张版本）
```

---

#### 2.2 首帧接续操作规范

**问题**：`[首帧: 接续/S01-02]` 格式清晰，但缺乏实际操作指南

**解决方案**：

##### 2.2.1 尾帧获取规范

| 步骤 | 操作 | 说明 |
|------|------|------|
| 1 | 定位时间点 | 选择 -0.5s ~ -0.1s 位置 |
| 2 | 避开模糊帧 | 跳过运动模糊严重的帧 |
| 3 | 导出格式 | PNG无损，与原视频同分辨率 |
| 4 | 命名规范 | `S01-02_endframe.png` |

##### 2.2.2 接续质量检查

| 检查项 | 标准 | 不通过处理 |
|--------|------|------------|
| 主体位置 | 与尾帧偏移<5% | 重选帧位置 |
| 光线方向 | 一致 | 微调后处理或重新生成 |
| 色调连贯 | 无明显跳变 | 后期调色过渡 |

##### 2.2.3 平台差异

| 平台 | 接续方式 | 注意事项 |
|------|----------|----------|
| 即梦 | 直接上传尾帧 | 支持自动检测 |
| Runway | 手动裁剪导出 | 需确保分辨率一致 |
| Pika | 上传参考图 | 运动强度建议调低 |

---

### P1 - 中优先级（近期实施）

#### 2.3 分镜与提示词单源化

**问题**：分镜在 `storyboards/`，提示词在 `prompts/`，信息重复且易不同步

**解决方案**：采用 YAML 单一数据源 + 自动生成

##### 数据源格式 `storyboards/ep03.yaml`

```yaml
episode: 3
title: "天不生我路朝歌"
duration: "60-90秒"
aspect_ratio: "9:16"

shots:
  - id: "3-3"
    duration: "4s"
    shot_type: "全景"
    camera: "固定"
    description: "路朝歌背影，负手望天，云海背景"
    audio: "BGM史诗起"
    highlight: true
    note: "第一次正式露出路朝歌，背影先行"

    # 生成配置
    generation:
      first_frame: "场景/丹青峰峰顶"
      characters: ["@路朝歌"]
      prompt: |
        全景，白天，逆光，史诗感，
        山峰顶端，云海翻涌，
        青衫男子背影，双手负于身后，
        抬头望天，衣衫随风飘动，
        仙气磅礴，气势恢宏，
        竖屏构图，人物居中偏下，
        ancient Chinese xianxia style,
        epic atmosphere, dramatic backlighting,
        sea of clouds, cinematic wide shot
      params:
        resolution: "1080x1920"
        fps: 30
        motion_intensity: 4
```

##### 自动生成脚本（待开发）

```bash
# 从 YAML 生成分镜表格（Markdown）
python scripts/gen_storyboard.py storyboards/ep03.yaml

# 从 YAML 生成提示词文档
python scripts/gen_prompts.py storyboards/ep03.yaml
```

---

#### 2.4 角色一致性检查清单

**问题**：AI生成的角色外观可能漂移，缺乏验证标准

**解决方案**：

##### 角色一致性检查表

| 检查项 | 权重 | 标准 | 不通过处理 |
|--------|------|------|------------|
| 脸型轮廓 | 高 | 与参考图匹配度>85% | 重新生成 |
| 五官比例 | 高 | 眼距、鼻长、唇形一致 | 重新生成/后期修复 |
| 发型形态 | 中 | 长度、束发方式一致 | 重新生成 |
| 服装颜色 | 中 | RGB偏差<15% | 后期调色 |
| 服装款式 | 中 | 领口、袖口、腰带一致 | 重新生成 |
| 身高比例 | 低 | 多人镜头相对高度正确 | 参考图标注身高 |
| 配饰细节 | 低 | 玉佩、发带、剑穗 | 可接受微小差异 |

##### 参考图规范

角色参考图应包含以下视角：
- 正面全身
- 侧面全身
- 正面半身（表情细节）
- 背面（发型、服装背部）

---

#### 2.5 生成参数记录规范

**问题**：提示词完备，但未记录模型参数

**解决方案**：

##### 推荐参数表

| 参数 | 标准镜头 | 升格镜头 | 特写镜头 | 说明 |
|------|----------|----------|----------|------|
| 分辨率 | 1080×1920 | 1080×1920 | 1080×1920 | 竖屏9:16 |
| 时长 | 3-5秒 | 2-3秒 | 2-4秒 | 升格片段建议短 |
| 帧率 | 30fps | 60fps | 30fps | 升格需高帧率 |
| 运动强度 | 3-5 | 2-3 | 1-2 | 特写降低强度 |
| CFG Scale | 7-9 | 8-10 | 9-11 | 特写/升格提高一致性 |
| 种子策略 | 随机 | 固定 | 固定 | 需一致性时固定种子 |

##### params.json 模板

```json
{
  "model": "seedance-1.0",
  "resolution": "1080x1920",
  "duration": 4,
  "fps": 30,
  "motion_intensity": 4,
  "cfg_scale": 8,
  "seed": 12345,
  "timestamp": "2026-02-12T10:30:00"
}
```

---

### P2 - 一般优先级（中期实施）

#### 2.6 制作状态追踪表

**问题**：缺乏整体制作进度可视化

**解决方案**：

##### 追踪表模板 `storyboards/ep03_status.md`

```markdown
# 制作状态追踪：第3集

> 最后更新：2026-02-12

## 总体进度

- 总镜头数：16
- 已完成：8
- 迭代中：3
- 等待中：5
- 完成率：50%

## 详细状态

| 镜号 | 状态 | 版本 | 问题/备注 | 依赖 |
|------|------|------|-----------|------|
| 3-1 | ✅ 完成 | v2 | — | — |
| 3-2 | ✅ 完成 | v1 | — | — |
| 3-3 | ✅ 完成 | v3 | — | — |
| 3-4 | 🔄 迭代中 | v2 | 布料运动不够飘逸 | 3-3 |
| 3-5 | ⏸ 等待 | — | 依赖3-4尾帧 | 3-4 |
| 3-6 | ⏸ 等待 | — | — | 3-5 |
| ... | ... | ... | ... | ... |

## 状态说明

- ✅ 完成：已通过质量检查，入库
- 🔄 迭代中：正在优化调整
- ⏸ 等待：等待依赖项完成
- ❌ 阻塞：遇到技术问题
```

---

#### 2.7 声音设计工作流

**问题**：声音设计过于简略，缺乏系统化流程

**解决方案**：

##### 音频分层结构

```
audio/
├── dialogue/          # 对白层
│   ├── ep03_3-8_路朝歌_台词前半_take1.wav
│   └── ep03_3-15_路冬梨_别听_take1.wav
├── sfx/               # 音效层
│   ├── footsteps/     # 脚步声
│   ├── cloth/         # 衣物声
│   └── environment/   # 环境音效
├── music/             # 配乐层
│   ├── ep03_epic_theme.wav
│   └── ep03_ending.wav
└── ambience/          # 氛围层
    └── mountain_wind.wav
```

##### AI配音规范

| 项目 | 规范 |
|------|------|
| 采样率 | 48kHz |
| 位深 | 24bit |
| 格式 | WAV |
| 命名 | `ep{集号}_{镜号}_{角色}_{内容摘要}_take{次数}.wav` |

##### BGM断点设计表

| 时间码 | BGM状态 | 叙事作用 | 技术处理 |
|--------|---------|----------|----------|
| 00:00.0 | 酝酿起 | 铺垫 | 渐入 |
| 00:03.0 | 史诗主题 | 出场 | 直接切入 |
| 00:22.0 | 骤停 | 喜剧反转点 | 硬切+0.5s静音 |
| 00:30.0 | 片尾轻起 | 收尾 | 渐入 |

---

### P3 - 低优先级（长期规划）

#### 2.8 可复用资产库

**目标**：建立跨项目复用的标准化资产库

##### 目录结构

```
assets/
├── characters/                    # 角色模板
│   ├── 古风_青年男_侠客/
│   │   ├── reference.png
│   │   ├── profile.md
│   │   └── prompts.txt
│   ├── 古风_少女_清丽/
│   └── 古风_幼童_可爱/
├── scenes/                        # 场景模板
│   ├── 山峰_云海_逆光/
│   │   ├── concept.png
│   │   ├── setting.md
│   │   └── prompt.txt
│   ├── 山道_竹林_日光/
│   └── 室内_书房_烛光/
├── prompts/                       # 提示词片段
│   ├── emotions/
│   │   ├── 无奈.txt
│   │   ├── 震撼.txt
│   │   └── 深沉.txt
│   ├── camera/
│   │   ├── 升格飘逸.txt
│   │   ├── 缓推特写.txt
│   │   └── 环绕运镜.txt
│   └── lighting/
│       ├── 逆光轮廓.txt
│       └── 烛光暖调.txt
└── README.md                      # 资产库使用说明
```

---

#### 2.9 QA质量检查流程

**目标**：建立系统化的质量控制流程

##### 检查流程

```
生成完成
    ↓
┌───────────────┐
│ 自动检查      │ → 分辨率、时长、格式
└───────────────┘
    ↓
┌───────────────┐
│ 角色一致性    │ → 脸型、服装、配饰
└───────────────┘
    ↓
┌───────────────┐
│ 运动流畅度    │ → 无闪烁、无畸变、无跳帧
└───────────────┘
    ↓
┌───────────────┐
│ 光影连贯性    │ → 与前后镜头光线方向一致
└───────────────┘
    ↓
┌───────────────┐
│ 入库/标记问题 │
└───────────────┘
```

##### QA检查表模板

```markdown
## QA检查：S03-04

- [ ] 分辨率正确 (1080x1920)
- [ ] 时长符合 (3-5s)
- [ ] 角色脸型一致
- [ ] 服装颜色一致
- [ ] 运动无闪烁
- [ ] 无肢体畸变
- [ ] 光线方向正确
- [ ] 与前镜接续自然

**检查结果**：✅ 通过 / ❌ 不通过
**问题描述**：
**处理建议**：
```

---

## 三、实施路线图

| 阶段 | 时间 | 内容 | 产出 |
|------|------|------|------|
| Phase 1 | 第1周 | P0项实施 | 版本管理规范、首帧接续规范 |
| Phase 2 | 第2-3周 | P1项实施 | YAML数据源、角色检查清单、参数规范 |
| Phase 3 | 第4-6周 | P2项实施 | 状态追踪表、声音工作流 |
| Phase 4 | 长期 | P3项实施 | 资产库、QA流程自动化 |

---

## 四、相关文档

- [CLAUDE.md](../CLAUDE.md) - AI助手指南
- [README.md](../README.md) - 工作流总览
- [通义万相AI生视频—使用指南](ref/通义万相AI生视频—使用指南.md) - 平台参考

---

*文档维护：每完成一项优化后更新状态*
